{% extends "core/base.html" %}

{% block content %}
<style>
  .register-wrapper {
    min-height: 80vh;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .register-card {
    width: 100%;
    max-width: 420px;
    background: #ffffff;
    padding: 35px;
    border-radius: 16px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
  }

  .register-card h3 {
    text-align: center;
    margin-bottom: 25px;
    font-weight: 700;
    color: #198754;
  }

  .register-card label {
    font-weight: 600;
    font-size: 14px;
    margin-top: 10px;
  }

  .register-card input {
    width: 100%;
    padding: 10px;
    margin-top: 6px;
    border-radius: 8px;
    border: 1px solid #ccc;
  }

  .register-card input:focus {
    border-color: #198754;
    outline: none;
  }

  .register-btn {
    width: 100%;
    margin-top: 20px;
    padding: 12px;
    border-radius: 10px;
    font-size: 16px;
    font-weight: bold;
  }

  .bottom-text {
    text-align: center;
    margin-top: 16px;
    font-size: 14px;
  }

  .bottom-text a {
    text-decoration: none;
    font-weight: 600;
    color: #198754;
  }

  .form-errors {
    background: #ffe6e6;
    color: #c0392b;
    padding: 10px;
    border-radius: 8px;
    font-size: 14px;
    margin-bottom: 15px;
  }
  .register-card input[type="password"] {
  padding-right: 40px;
}

</style>

<div class="register-wrapper">
  <div class="register-card">

    <h3>Create Your Account</h3>

    <form method="POST">
      {% csrf_token %}

      {% for field in form %}
  <div class="mb-3">
    <label>{{ field.label }}</label>

    {% if field.errors %}
      <div class="field-error">{{ field.errors|striptags }}</div>
    {% endif %}

    {% if field.name == "password" or field.name == "confirm_password" %}
      <div style="position: relative;">
        {{ field }}
        <span 
          onclick="togglePassword('{{ field.auto_id }}')" 
          style="
            position:absolute;
            right:12px;
            top:50%;
            transform:translateY(-50%);
            cursor:pointer;
            font-size:14px;
            color:#198754;
            user-select:none;">
          Show/Hide
        </span>
      </div>
    {% else %}
      {{ field }}
    {% endif %}

  </div>
{% endfor %}


      <button type="submit" class="btn btn-success register-btn">
        Sign Up
      </button>
    </form>

    <div class="bottom-text">
      Already have an account? 
      <a href="{% url 'login' %}">Login</a>
    </div>

  </div>
</div>
<script>
  function togglePassword(fieldId) {
    const input = document.getElementById(fieldId);
    if (input.type === "password") {
      input.type = "text";
    } else {
      input.type = "password";
    }
  }
</script>

{% endblock %}

