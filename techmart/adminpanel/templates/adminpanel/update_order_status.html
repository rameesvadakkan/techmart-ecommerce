{% extends "core/base.html" %}

{% block content %}
<div class="container mt-4">

    <h3 class="mb-4">Update Order Status</h3>

    <div class="card shadow-sm p-4">

        <h5 class="mb-3">Order #{{ order.id }}</h5>

        <p><strong>Customer:</strong> {{ order.full_name }}</p>
        <p><strong>Total Amount:</strong> â‚¹{{ order.total_amount }}</p>
        <p><strong>Current Status:</strong> 
            <span class="badge bg-info text-dark">{{ order.get_status_display }}</span>
        </p>

        <hr>

        <form method="POST">
            {% csrf_token %}

            <label class="form-label">Update Status</label>
            <select name="status" class="form-select" required>
                {% for key, value in order.STATUS_CHOICES %}
                <option value="{{ key }}" {% if order.status == key %}selected{% endif %}>
                    {{ value }}
                </option>
                {% endfor %}
            </select>

            <button type="submit" class="btn btn-success mt-3">Save Changes</button>
            <a href="{% url 'adminpanel:order_list' %}" class="btn btn-secondary mt-3">Cancel</a>
        </form>

    </div>

</div>
{% endblock %}
